<!DOCTYPE html>
<html>
    <body>
        <div ng-app="myApp" ng-controller="customersCtrl">
        <form id="checkout" method="post" action="/checkout">
              <div id="dropin"></div>
                <input type="submit" value="Pay $16">
            </form>




            <script src="https://js.braintreegateway.com/v2/braintree.js"></script>
            
            <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.2.18/angular.js'></script>


            <script>
                var app = angular.module('myApp', []);
                app.controller('customersCtrl', function($scope, $http) {
                    $http.get("http://localhost:8080/client_token")
                        .then(function (token) {
                        console.log('getting a token');
                        console.log(token.data);
                        braintree.setup(
                              token.data,'dropin', {
                                    container: 'dropin'
                        });

                    });
                });
               
                
                
            </script>


            <script>
//            braintree.setup(
              // Replace this with a client token from your server
//                 token,'dropin', {
//                        container: 'dropin'
//            });
            </script>
         </div>
    </body>
</html>

